@page "/CartSummary"

<div class="w-full px-24">
    <h3 class="text-4xl my-5">Resumen de compra</h3>
    <div class="flex justify-between mb-10">
        <h1>Producto</h1>
        <h1>Precio</h1>
        <h1>Cantidad</h1>
        <h1>Total</h1>
    </div>
    @foreach (var item in MusicCatalogsInShopCart){
        <div class="flex justify-between pt-2 mt-2">        
            <div>
                <div class="inline-flex">
                    <img class="w-24 h-24 rounded-2 mr-2" src="@item.Images?.FirstOrDefault()?.Url"  alt="Imagen del disco">
                    <div class="flex w-64 flex-col pt-2 font-bold text-gray-800">
                            <p>@item.Title-@item.Artist!.Name</p>
                            <span class="inline-block w-14 mb-2 font-sans px-2 py-1 leading-none text-white rounded-full uppercase tracking-wide">@item.Format?.Name</span>
                    </div>
                </div>
            </div>

            <div>
                <div class="flex">
                    <p class="font-normal text-black">$ @item.Price.ToString("#,##0.00")</p>
                </div>
            </div>

            <div>
                <div class="flex">
                    <div class="flex w-full md:w-40 border-2 h-10 mb-4">
                        <button class="w-1/3 h-full bg-gray-200">-</button>
                        <input id="cantidad" class="w-1/3 text-center bg-gray-100" type="text" value="1">
                        <button class="w-1/3 h-full bg-gray-200">+</button>
                    </div>
                </div>
            </div>

            <div>
                <div class="flex">
                    <p class="font-normal text-black">$ @item.Price.ToString("#,##0.00")</p>
                </div>
            </div>        
        </div>
    }
    <hr class="border-gray-300 my-2" />
    <div class="text-end mt-4">
        <div class="justify-between w-1/3 inline-flex">
            <p class="font-bold">Sub Total</p>
            <p>$@MusicCatalogsInShopCart.Sum(x => x.Price).ToString("#,##0.00")</p>
        </div>
        <div class="flex justify-end mt-5">                        
            <button @onclick="TestStrape" class="w-1/3 mt-3 h-10 border rounded-xl font-semibold text-white bg-blue-600 text-sm">Pagar</button>            
        </div>
    </div>

    <div class="mt-20">
        <p class="pl-5 text-2xl font-bold">RECOMENDACIONES</p>
        <hr class="border-gray-300 my-2" />
        <div class="flex justify-start p-2 md:p-5">
            <div class="grid gap-4 grid-cols-6">
                @foreach (var item in MusicCatalogs)
                {
                    <CardCatalogMusic MusicCatalog="item"></CardCatalogMusic>
                }
            </div>
        </div>
    </div>
</div>